{{! Mustache template for managing users in the admin panel }}

{{> header}}

<div class="container mt-5">
  <h2>Manage Users</h2>

  {{#users}}
    <div class="card mb-3">
      <div class="card-body">
        <p><strong>Username:</strong> {{username}}</p>
        <p><strong>Role:</strong> {{role}}</p>

        {{#isOrganiser}}
          <form method="POST" action="/admin/remove-organiser/{{_id}}" class="d-inline">
            <button type="submit" class="btn btn-warning">Remove Organiser</button>
          </form>
        {{/isOrganiser}}

        {{^isOrganiser}}
          <form method="POST" action="/admin/make-organiser/{{_id}}" class="d-inline">
            <button type="submit" class="btn btn-success">Make Organiser</button>
          </form>
        {{/isOrganiser}}

        <form method="POST" action="/admin/delete-user/{{_id}}" class="d-inline ms-2">
          <button type="submit" class="btn btn-danger">Delete User</button>
        </form>
      </div>
    </div>
  {{/users}}

  {{^users}}
    <p>No users found.</p>
  {{/users}}
</div>
